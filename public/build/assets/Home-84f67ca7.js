import{r as p,j as k,F as A,a,n as I,P as B,E as K}from"./app-0510f66a.js";import{C as F,a as R,L as y,P as H,b as L,p as j,c as M,d as q,e as D,f as U,i as O}from"./Graph-2be75b41.js";import{N as W,J as V}from"./Navbar-18aa24eb.js";import"./index-81c4868e.js";import J from"./Footer-a6af107d.js";import"./Hourglass-0928c8c8.js";function _({sensor:t,latest:m}){const[o,r]=p.useState([{id:1,name:"ph",fullName:"ph",from:7.5,to:8.5,kondisi:"",ket:""},{id:2,name:"tds",fullName:"TDS",from:0,to:800,kondisi:"",ket:""},{id:3,name:"suhu",fullName:"Suhu",from:26,to:28,kondisi:"",ket:""},{id:4,name:"sal",fullName:"Salinitas",from:2,to:12,kondisi:"",ket:""},{id:5,name:"amo",fullName:"Amonia",from:0,to:1,kondisi:"",ket:""}]);return k(A,{children:[(()=>{const f="low",u="normal",w="high";o.map((e,c)=>{if(e.name=="ph"){if(t.value1<e.from||!t&&m.value1.toFixed(2)<e.from){const l=[...o];l[e.id-1].kondisi=f,l[e.id-1].ket="lakukan tindakan penambahan kapur dengan dosis 2 - 5 ppm hingga nilai pH mencapai ≥ 7,5 atau lakukan penambahan air netral hingga pH mencapai ≥ 7,5"}else if(t.value1>e.to||!t&&m.value1.toFixed(2)>e.to){const l=[...o];l[e.id-1].kondisi=w,l[e.id-1].ket="lakukan tindakan penambahan molase (sumber karbon) dengan dosis 1 – 2 PPM hingga pH turun mencapai ≤ 8"}else if(t.value1<=e.to&&t.value1>=e.from||!t&&m.value1.toFixed(2)<=e.to&&m.value1.toFixed(2)>=e.from){const l=[...o];l[e.id-1].kondisi=u,l[e.id-1].ket="-"}}if(e.name=="tds"){if(t.value2<e.from||!t&&m.value2.toFixed(2)<e.from){const l=[...o];l[e.id-1].kondisi=f,l[e.id-1].ket="Cek Kembali Kalibrasi Alat , TDS tidak mungkin 0"}else if(t.value2>e.to||!t&&m.value2.toFixed(2)>e.to){const l=[...o];l[e.id-1].kondisi=w,l[e.id-1].ket="lakukan tindakan penambahan air baru sebanyak > 40% atau pergantian air baru."}else if(t.value2<=e.to&&t.value2>=e.from||!t&&m.value2.toFixed(2)<=e.to&&m.value2.toFixed(2)>=e.from){const l=[...o];l[e.id-1].kondisi=u,l[e.id-1].ket="-"}}if(e.name=="suhu"){if(t.value3<e.from||!t&&m.value3.toFixed(2)<e.from){const l=[...o];l[e.id-1].kondisi=f,l[e.id-1].ket="Stabilkan suhu ruangan dengan rentang 26 - 28 Celcius"}else if(t.value3>e.to||!t&&m.value3.toFixed(2)>e.to){const l=[...o];l[e.id-1].kondisi=w,l[e.id-1].ket="lakukan penambahan paranet sehingga air tidak mengalami kenaikan suhu berlebih dan dapat menstabilkan suhu air. Jika suhu air luar toleransi dan kolam berapa didalam ruangan maka lakukan penstabilan suhu ruangan dengan rentang 26 – 28 derajat celcius."}else if(t.value3<=e.to&&t.value3>=e.from||!t&&m.value3.toFixed(2)<=e.to&&m.value3.toFixed(2)>=e.from){const l=[...o];l[e.id-1].kondisi=u,l[e.id-1].ket="-"}}if(e.name=="sal"){if(t.value4<e.from||!t&&m.value4.toFixed(2)<e.from){const l=[...o];l[e.id-1].kondisi=f,l[e.id-1].ket="lakukan tindakan penambahan garam sebesar 1,5% dari total air kolam"}else if(t.value4>e.to||!t&&m.value4.toFixed(2)>e.to){const l=[...o];l[e.id-1].kondisi=w,l[e.id-1].ket="dilakukan tindakan penambahan air setinggi batas air awal sebelum menguap"}else if(t.value4<=e.to&&t.value4>=e.from||!t&&m.value4.toFixed(2)<=e.to&&m.value4.toFixed(2)>=e.from){const l=[...o];l[e.id-1].kondisi=u,l[e.id-1].ket="-"}}if(e.name=="amo"){if(t.value5<e.from||!t&&m.value5.toFixed(2)<e.from){const l=[...o];l[e.id-1].kondisi=f,l[e.id-1].ket="lakukan penambahan kecepatan aerasi > 0,5 kali dengan pemberian sumber Carbon molase 5% dari total pakan harian"}else if(t.value5>e.to||!t&&m.value5.toFixed(2)>e.to){const l=[...o];l[e.id-1].kondisi=w,l[e.id-1].ket="lakukan dengan peningkatan aerasi (pengadukkan > 0,5 kali, pada pH kurang dari 6,5, akan tetapi ketika pH >6,5 maka tidak perlau dilakukan pengadukkan, dengan tetap dipantau pertambahan amonianya)"}else if(t.value5<=e.to&&t.value5>=e.from||!t&&m.value5.toFixed(2)<=e.to&&m.value5.toFixed(2)>=e.from){const l=[...o];l[e.id-1].kondisi=u,l[e.id-1].ket="-"}}})})(),k("div",{className:"grid grid-cols-2 lg:gap-5 gap-3 md:grid-cols-3 lg:grid-cols-5 justify-center all-sensor lg:p-5 p-3 lg:mt-0 mt-5",children:[k("div",{className:"flex justify-center  card bg-white shadow-xl border aspect-square",children:[a("div",{className:"absolute top-0 left-0 p-4 font-bold lg:text-xl text-lg",children:"pH"}),a("button",{className:(o[0].kondisi=="normal"||o[0].kondisi=="low","absolute rounded-none btn-square btn btn-alert shadow-lg top-0 right-0 z-10"),children:k("div",{className:"indicator",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"})}),o[0].kondisi=="high"||o[0].kondisi=="low"?a("span",{className:"badge badge-sm indicator-item border-white bg-[#ff2e2e]"}):a("span",{className:"badge badge-sm indicator-item border-white bg-[#5ad13d]"})]})}),a("div",{className:"grid justify-center items-center",children:k("div",{className:"lg:text-5xl md:text-4xl text-3xl",children:[t.value1?t.value1:m.value1.toFixed(2).toFixed(2),a("small",{className:"text-sm",children:"pH"})]})})]}),k("div",{className:"flex justify-center  card bg-white shadow-xl border aspect-square",children:[a("div",{className:"absolute top-0 left-0 p-4 font-bold lg:text-xl text-lg",children:"TDS"}),a("button",{className:(o[1].kondisi=="normal"||o[1].kondisi=="low","absolute rounded-none btn-square btn btn-alert shadow-lg top-0 right-0 z-10"),children:k("div",{className:"indicator",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"})}),o[1].kondisi=="high"||o[1].kondisi=="low"?a("span",{className:"badge badge-sm indicator-item border-white bg-[#ff2e2e]"}):a("span",{className:"badge badge-sm indicator-item border-white bg-[#5ad13d]"})]})}),a("div",{className:"grid justify-center items-center",children:k("div",{className:"lg:text-5xl md:text-4xl text-3xl",children:[t.value2?t.value2:m.value2.toFixed(2),a("small",{className:"text-sm",children:"PPM"})]})})]}),k("div",{className:"flex justify-center  card bg-white shadow-xl border aspect-square",children:[a("div",{className:"absolute top-0 left-0 p-4 font-bold lg:text-xl text-lg",children:"Suhu"}),a("button",{className:(o[2].kondisi=="normal"||o[2].kondisi=="low","absolute rounded-none btn-square btn btn-alert shadow-lg top-0 right-0 z-10"),children:k("div",{className:"indicator",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"})}),o[2].kondisi=="high"||o[2].kondisi=="low"?a("span",{className:"badge badge-sm indicator-item border-white bg-[#ff2e2e]"}):a("span",{className:"badge badge-sm indicator-item border-white bg-[#5ad13d]"})]})}),a("div",{className:"grid justify-center items-center",children:k("div",{className:"lg:text-5xl md:text-4xl text-3xl",children:[t.value3?t.value3:m.value3.toFixed(2),a("small",{className:"text-sm",children:"Celcius"})]})})]}),k("div",{className:"flex justify-center  card bg-white shadow-xl border aspect-square",children:[a("div",{className:"absolute top-0 left-0 p-4 font-bold lg:text-xl text-lg",children:"Salinitas"}),a("button",{className:(o[3].kondisi=="normal"||o[3].kondisi=="low","absolute rounded-none btn-square btn btn-alert shadow-lg top-0 right-0 z-10"),children:k("div",{className:"indicator",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"})}),o[3].kondisi=="high"||o[3].kondisi=="low"?a("span",{className:"badge badge-sm indicator-item border-white bg-[#ff2e2e]"}):a("span",{className:"badge badge-sm indicator-item border-white bg-[#5ad13d]"})]})}),a("div",{className:"grid justify-center items-center",children:k("div",{className:"lg:text-5xl md:text-4xl text-3xl",children:[t.value4?t.value4:m.value4.toFixed(2),a("small",{className:"text-sm",children:"PPT"})]})})]}),k("div",{className:"flex justify-center  card bg-white shadow-xl border aspect-square",children:[a("div",{className:"absolute top-0 left-0 p-4 font-bold lg:text-xl text-lg",children:"Amonia"}),a("button",{className:(o[4].kondisi=="normal"||o[4].kondisi=="low","absolute rounded-none btn-square btn btn-alert shadow-lg top-0 right-0 z-10"),children:k("div",{className:"indicator",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0M3.124 7.5A8.969 8.969 0 015.292 3m13.416 0a8.969 8.969 0 012.168 4.5"})}),o[4].kondisi=="high"||o[4].kondisi=="low"?a("span",{className:"badge badge-sm indicator-item border-white bg-[#ff2e2e]"}):a("span",{className:"badge badge-sm indicator-item border-white bg-[#5ad13d]"})]})}),a("div",{className:"grid justify-center items-center",children:k("div",{className:"lg:text-5xl md:text-4xl text-3xl",children:[t.value5?t.value5:m.value5.toFixed(2),a("small",{className:"text-sm",children:"mg/L"})]})})]})]})]})}const $=({title:t,label:m,batasMaksimum:o,batasMinimum:r,data:i,name:f})=>{F.register(R,y,H,L,j,M,q);const[u,w]=p.useState([{id:1,name:"ph",fullName:"ph",from:r,to:o,kondisi:"",ket:""},{id:2,name:"tds",fullName:"TDS",from:r,to:o,kondisi:"",ket:""},{id:3,name:"suhu",fullName:"Suhu",from:r,to:o,kondisi:"",ket:""},{id:4,name:"sal",fullName:"Salinitas",from:r,to:o,kondisi:"",ket:""},{id:5,name:"amo",fullName:"Amonia",from:r,to:o,kondisi:"",ket:""}]);p.useMemo(()=>{const v="low",x="normal",N="high";u.map((n,S)=>{if(n.name=="ph"){if(i[i.length-1]<n.from){const d=[...u];d[n.id-1].kondisi=v,d[n.id-1].ket="lakukan tindakan penambahan kapur dengan dosis 2 - 5 ppm hingga nilai pH mencapai ≥ 7,5 atau lakukan penambahan air netral hingga pH mencapai ≥ 7,5"}else if(i[i.length-1]>n.to){const d=[...u];d[n.id-1].kondisi=N,d[n.id-1].ket="lakukan tindakan penambahan molase (sumber karbon) dengan dosis 1 – 2 PPM hingga pH turun mencapai ≤ 8"}else if(i[i.length-1]<=n.to&&i[i.length-1]>=n.from){const d=[...u];d[n.id-1].kondisi=x,d[n.id-1].ket="Normal"}}if(n.name=="tds"){if(i[i.length-1]<n.from){const d=[...u];d[n.id-1].kondisi=v,d[n.id-1].ket="Cek Kembali Kalibrasi Alat , TDS tidak mungkin 0"}else if(i[i.length-1]>n.to){const d=[...u];d[n.id-1].kondisi=N,d[n.id-1].ket="lakukan tindakan penambahan air baru sebanyak > 40% atau pergantian air baru."}else if(i[i.length-1]<=n.to&&i[i.length-1]>=n.from){const d=[...u];d[n.id-1].kondisi=x,d[n.id-1].ket="Normal"}}if(n.name=="suhu"){if(i[i.length-1]<n.from){const d=[...u];d[n.id-1].kondisi=v,d[n.id-1].ket="Stabilkan suhu ruangan dengan rentang 26 - 28 Celcius"}else if(i[i.length-1]>n.to){const d=[...u];d[n.id-1].kondisi=N,d[n.id-1].ket="lakukan penambahan paranet sehingga air tidak mengalami kenaikan suhu berlebih dan dapat menstabilkan suhu air. Jika suhu air luar toleransi dan kolam berapa didalam ruangan maka lakukan penstabilan suhu ruangan dengan rentang 26 – 28 derajat celcius."}else if(i[i.length-1]<=n.to&&i[i.length-1]>=n.from){const d=[...u];d[n.id-1].kondisi=x,d[n.id-1].ket="Normal"}}if(n.name=="sal"){if(i[i.length-1]<n.from){const d=[...u];d[n.id-1].kondisi=v,d[n.id-1].ket="lakukan tindakan penambahan garam sebesar 1,5% dari total air kolam"}else if(i[i.length-1]>n.to){const d=[...u];d[n.id-1].kondisi=N,d[n.id-1].ket="dilakukan tindakan penambahan air setinggi batas air awal sebelum menguap"}else if(i[i.length-1]<=n.to&&i[i.length-1]>=n.from){const d=[...u];d[n.id-1].kondisi=x,d[n.id-1].ket="Normal"}}if(n.name=="amo"){if(i[i.length-1]<n.from){const d=[...u];d[n.id-1].kondisi=v,d[n.id-1].ket="lakukan penambahan kecepatan aerasi > 0,5 kali dengan pemberian sumber Carbon molase 5% dari total pakan harian"}else if(i[i.length-1]>n.to){const d=[...u];d[n.id-1].kondisi=N,d[n.id-1].ket="lakukan dengan peningkatan aerasi (pengadukkan > 0,5 kali, pada pH kurang dari 6,5, akan tetapi ketika pH >6,5 maka tidak perlau dilakukan pengadukkan, dengan tetap dipantau pertambahan amonianya)"}else if(i[i.length-1]<=n.to&&i[i.length-1]>=n.from){const d=[...u];d[n.id-1].kondisi=x,d[n.id-1].ket="Normal"}}})},[i]);const e={responsive:!0,stacked:!1,plugins:{title:{display:!1,text:t}},animations:{y:{delay:500}}},c=i.map(v=>""),l={labels:c,datasets:[{label:m,data:i,borderColor:"#FFC300",backgroundColor:"#FFC300",pointRadius:1,pointHoverRadius:2,tension:.1},{label:"Batas Maksimum",data:c.map(v=>o),borderColor:"#25a18e4a",backgroundColor:"#25a18e4a",fill:2,tension:.5,pointRadius:0,pointHoverRadius:1},{label:"Batas Minimum",data:c.map(v=>r),borderColor:"#0035664a",backgroundColor:"#0035664a",pointRadius:0,pointHoverRadius:1}]};return a("div",{className:"lg:p-5 p-3 lg:mt-0 mt-5",children:a("div",{className:"card bg-white shadow-xl border",children:k("div",{className:"card-body",children:[a("div",{className:"font-bold text-xl",children:t}),k("div",{className:"grid lg:grid-cols-6",children:[a("div",{className:"lg:col-span-4 lg:md:block hidden",children:a(D,{options:e,data:l})}),a("div",{className:"lg:col-span-4 lg:md:hidden block",children:a(D,{options:e,height:400,data:l})}),a("div",{className:"lg:col-span-2 p-2",children:k("div",{className:"rounded-lg shadow-lg overflow-hidden bg-white",children:[k("div",{className:`p-3 text-center font-bold uppercase text-white ${i[i.length-1]>o||i[i.length-1]<r?"bg-red ":"bg-lime-500"}`,children:[i[i.length-1]>o&&"KONDISI MELEWATI BATAS MAKSIMUM",i[i.length-1]<r&&"KONDISI MELEWATI BATAS MINIMUM",i[i.length-1]>=r&&i[i.length-1]<=o&&"KONDISI NORMAL"]}),a("div",{className:"p-3 font-bold",children:k("ul",{children:[f=="ph"&&a("li",{className:"uppercase",children:u[0].ket}),f=="tds"&&a("li",{className:"uppercase",children:u[1].ket}),f=="suhu"&&a("li",{className:"uppercase",children:u[2].ket}),f=="sal"&&a("li",{className:"uppercase",children:u[3].ket}),f=="amo"&&a("li",{className:"uppercase",children:u[4].ket})]})})]})})]})]})})})},C=$;window.Pusher=B;window.Echo=new K({broadcaster:"pusher",key:"45d39f4664c31a6e0645",cluster:"ap1",forceTLS:!0});function ae(t){const[m,o]=p.useState(""),[r,i]=p.useState(t.allSensor),[f,u]=p.useState([]),[w,e]=p.useState([]),[c,l]=p.useState([]),[v,x]=p.useState([]),[N,n]=p.useState([]);t.base_url;const S=p.useCallback(()=>{const g=[];for(let s=0;s<r.length;s++)g.push(r[s].value1);return g},[r]),d=p.useCallback(()=>{const g=[];for(let s=0;s<r.length;s++)g.push(r[s].value2);return g},[r]),P=p.useCallback(()=>{const g=[];for(let s=0;s<r.length;s++)g.push(r[s].value3);return g},[r]),T=p.useCallback(()=>{const g=[];for(let s=0;s<r.length;s++)g.push(r[s].value4);return g},[r]),z=p.useCallback(()=>{const g=[];for(let s=0;s<r.length;s++)g.push(r[s].value5);return g},[r]);return p.useEffect(()=>{const g=S(),s=d(),h=P(),b=T(),E=z();u(g),e(s),l(h),x(b),n(E)},[r]),F.register(R,y,H,L,U,O,j,M,q),window.Echo.channel("Sensor-Event").listen("SensorEvent",g=>{if(o(g.message),g.message){for(let s=0;s<r.length-1;s++)u(h=>{const b=[...h];return b[s]=f[s+1],b}),e(h=>{const b=[...h];return b[s]=w[s+1],b}),l(h=>{const b=[...h];return b[s]=c[s+1],b}),x(h=>{const b=[...h];return b[s]=v[s+1],b}),n(h=>{const b=[...h];return b[s]=N[s+1],b});u(s=>{const h=[...s];return h[r.length-1]=g.message.value1,h}),e(s=>{const h=[...s];return h[r.length-1]=g.message.value2,h}),l(s=>{const h=[...s];return h[r.length-1]=g.message.value3,h}),x(s=>{const h=[...s];return h[r.length-1]=g.message.value4,h}),n(s=>{const h=[...s];return h[r.length-1]=g.message.value5,h})}}),a(A,{children:k("div",{className:"bg-body",children:[a(I,{title:t.title}),a(W,{auth:t.auth,active:t.active}),a(V,{}),a("div",{className:"flex justify-between mt-3 lg:ml-7 lg:mr-7 pl-5 pr-5",children:a("div",{className:m?"connected":"disconnected"})}),k("div",{className:"lg:p-6 mr-auto",children:[a(_,{sensor:m,latest:t.sensor}),a(C,{title:"Data Realtime pH",label:"ph",name:"ph",batasMaksimum:8.5,batasMinimum:7.5,data:f}),a(C,{title:"Data Realtime TDS",label:"TDS",name:"tds",batasMaksimum:800,batasMinimum:0,data:w}),a(C,{title:"Data Realtime Suhu",label:"Suhu",name:"suhu",batasMaksimum:28,batasMinimum:26,data:c}),a(C,{title:"Data Realtime Salinitas",label:"Salinitas",name:"sal",batasMaksimum:12,batasMinimum:2,data:v}),a(C,{title:"Data Realtime Amonia",label:"Amonia",name:"amo",batasMaksimum:1,batasMinimum:0,data:N})]}),a(J,{})]})})}export{ae as default};
